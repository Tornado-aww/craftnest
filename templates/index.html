{% extends "base.html" %}
{% block content %}

<section class="hero">
  <div>
    <h1 style="font-size:38px; margin:0 0 8px;">Handmade goods starter shop</h1>
    <p class="muted" style="margin:0 0 16px;">Clean, mobile-friendly FastAPI e-commerce template tailored for the US market. USD only.</p>
    <div class="row">
      <a href="#catalog" class="btn">Browse products</a>
      <a href="{{ url_for('cart_page') }}" class="btn outline">Open cart</a>
    </div>
    <div class="row" style="gap:10px; margin-top:14px;">
      <span class="pill">FastAPI</span>
      <span class="pill">SQLite</span>
      <span class="pill">USD</span>
      <span class="pill">Responsive</span>
    </div>
  </div>
  <div class="hero-visual">
    <div class="blob"></div>
    <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop" alt="Hero"/>
  </div>
</section>

<h2 id="catalog" style="margin:10px 0 8px;">Catalog</h2>
<div class="grid">
  {% for p in products %}
  <div class="card reveal">
    <img src="{{ p.image_url }}" alt="{{ p.title }}" loading="lazy"/>
    <div class="p16">
      <div class="row" style="justify-content:space-between;">
        <div class="title">{{ p.title }}</div>
        <span class="badge">Bestseller</span>
      </div>
      <div class="row" style="gap:6px; margin-bottom:6px;">
        <span class="stars">★★★★★</span>
        <span class="muted">4.9</span>
      </div>
      <div class="muted">{{ p.short_desc }}</div>
      <div class="row" style="margin-top:10px; justify-content: space-between;">
        <div><strong>${{ '%.2f'|format(p.price_usd) }}</strong></div>
        <div class="row">
          <a class="btn outline" href="{{ url_for('product_page', slug=p.slug) }}">View</a>
          <button class="btn" onclick="addToCart({{ p.id }}, 1, {{ p.price_usd }})">Add</button>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  <!-- skeletons (when list long / as filler) -->
  <div class="card reveal"><div class="skel skel-img"></div><div class="p16"><div class="skel skel-line" style="width:60%"></div><div class="skel skel-line" style="width:90%"></div></div></div>
  <div class="card reveal"><div class="skel skel-img"></div><div class="p16"><div class="skel skel-line" style="width:70%"></div><div class="skel skel-line" style="width:85%"></div></div></div>
</div>
{% endblock %}
